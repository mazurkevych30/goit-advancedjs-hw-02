{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\n\n\niziToast.settings({\n  timeout: 5000,\n  position: 'topRight',\n  icon: \"\",\n  transitionIn: \"fadeInRight\",\n  transitionOut: \"fadeOutLeft\",\n  close: false,\n});\n\n\nconst form = document.querySelector(\".form\");\nform[3].addEventListener(\"click\", onClick)\n\nfunction onClick(evt) {\n  evt.preventDefault();\n\n  let delay = Number(form[0].value);\n  const step = Number(form[1].value);\n  const amount = Number(form[2].value);\n  form.reset();\n\n  for (let i = 1; i <= amount; i += 1){\n     if (i > 1) {\n      delay += step;\n    }\n    createPromise(i, delay)\n      .then(({position, delay}) => {\n        iziToast.success({\n              message: `✅ Fulfilled promise ${position} in ${delay}ms`,\n            });\n      })\n      .catch(({position, delay}) => {\n      iziToast.error({\n              message: `❌ Rejected promise ${position} in ${delay}ms`,\n            });\n    })\n  }\n}\n\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({position, delay})\n      } else {\n        reject({position, delay})\n      }\n    }, delay);\n  })\n}"],"names":["iziToast","form","onClick","evt","delay","step","amount","i","createPromise","position","resolve","reject"],"mappings":"wIAKAA,EAAS,SAAS,CAChB,QAAS,IACT,SAAU,WACV,KAAM,GACN,aAAc,cACd,cAAe,cACf,MAAO,EACT,CAAC,EAGD,MAAMC,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,GAAG,iBAAiB,QAASC,CAAO,EAEzC,SAASA,EAAQC,EAAK,CACpBA,EAAI,eAAc,EAElB,IAAIC,EAAQ,OAAOH,EAAK,GAAG,KAAK,EAChC,MAAMI,EAAO,OAAOJ,EAAK,GAAG,KAAK,EAC3BK,EAAS,OAAOL,EAAK,GAAG,KAAK,EACnCA,EAAK,MAAK,EAEV,QAASM,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAC3BA,EAAI,IACPH,GAASC,GAEXG,EAAcD,EAAGH,CAAK,EACnB,KAAK,CAAC,CAAC,SAAAK,EAAU,MAAAL,CAAK,IAAM,CAC3BJ,EAAS,QAAQ,CACX,QAAS,uBAAuBS,QAAeL,KAC7D,CAAa,CACb,CAAO,EACA,MAAM,CAAC,CAAC,SAAAK,EAAU,MAAAL,CAAK,IAAM,CAC9BJ,EAAS,MAAM,CACP,QAAS,sBAAsBS,QAAeL,KAC5D,CAAa,CACb,CAAK,CAEL,CAGA,SAASI,EAAcC,EAAUL,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACM,EAASC,IAAW,CACtC,WAAW,IAAM,CACO,KAAK,OAAM,EAAK,GAEpCD,EAAQ,CAAC,SAAAD,EAAU,MAAAL,CAAK,CAAC,EAEzBO,EAAO,CAAC,SAAAF,EAAU,MAAAL,CAAK,CAAC,CAE3B,EAAEA,CAAK,CACZ,CAAG,CACH"}